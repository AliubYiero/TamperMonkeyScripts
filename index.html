<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
	      name="viewport">
	<meta content="ie=edge" http-equiv="X-UA-Compatible">
	<title>Document</title>
	
	<link
			href="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.css"
			rel="stylesheet"
	/>
	<script src="https://cdn.jsdelivr.net/npm/rrweb@latest/dist/rrweb.min.js"></script>
</head>
<body>

<input type="text">
<button id="start">开始录制</button>
<button id="end">结束录制</button>

<script>
	let domList = {
		startBtn: document.querySelector( '#start' ),
		endBtn: document.querySelector( '#end' ),
	}
	
	let events = [];
	domList.startBtn.addEventListener( 'click', () => {
		rrweb.record( {
			emit( event ) {
				events.push( event )
				console.log( events );
			}
		} )
	} )
	
	domList.endBtn.addEventListener( 'click', () => {
		const replayer = new rrweb.Replayer( events, {
			mouseTail: false
		} );
		replayer.play();
	} )


</script>
</body>
</html>
